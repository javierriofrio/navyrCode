"use strict";
var logger_1 = require('../logger/logger');
function optimizeJavascript(filePath, fileContent) {
    fileContent = purgeDecoratorStatements(filePath, fileContent, ['ionic-angular/index.js']);
    return fileContent;
}
exports.optimizeJavascript = optimizeJavascript;
function purgeDecoratorStatements(filePath, fileContent, inclusions) {
    var include = shouldInclude(filePath, inclusions);
    if (include) {
        logger_1.Logger.debug("Purging decorators for " + filePath);
        return fileContent.replace(DECORATORS_REGEX, '');
    }
    return fileContent;
}
exports.purgeDecoratorStatements = purgeDecoratorStatements;
/*export function purgeKnownContent(filePath: string, fileContent: string, exclusions: string[]) {
  const exclude = shouldExclude(filePath, exclusions);
  if (exclude) {
    return fileContent.replace(TREE_SHAKEABLE_IMPORTS, '');
  }
  return fileContent;
}
*/
function shouldInclude(filePath, inclusions) {
    // TODO - make this more robust
    for (var _i = 0, inclusions_1 = inclusions; _i < inclusions_1.length; _i++) {
        var inclusion = inclusions_1[_i];
        if (filePath.includes(inclusion)) {
            return true;
        }
    }
    return false;
}
var DECORATORS_REGEX = /(.+)\.decorators[\s\S\n]*?([\s\S\n]*?)];/igm;
